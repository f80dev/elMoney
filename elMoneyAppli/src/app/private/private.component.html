<div class="mainform">

  <h2>{{title}}</h2>
  <app-hourglass [message]="message"></app-hourglass>

  <div *ngIf="message?.length==0">


    <app-tuto [if]="user.pem">Le changement de compte implique une sauvegarde préalable de votre signature actuelle</app-tuto>

    <a [href]="fileUrl"
       title="Ce fichier est strictement confidentiel, il ne doit être communiquer à personne et conserver précieusement."
       *ngIf="user.pem"
       download="macle.pem">
      <table class="app-button" style="display: inline-block;width:200px;border-radius: 7px;"><tr>
        <td><mat-icon>download</mat-icon></td>
        <td>Télécharger votre clé privée</td>
      </tr></table>
    </a>

    <br>


    <div *ngIf="!user.pem">

      <app-tuto label="Charger le fichier PEM du compte que vous souhaitez utiliser avec NFTForge ou utiliser un compte de test"></app-tuto>

      <button mat-raised-button
              mat-button class="app-button"
              *ngIf="canChange"
              (click)="new_account()">
        Nouveau compte
      </button>


      <input #csvInput hidden="true"
             type="file" onclick="this.value=null"
             (change)="import($event)"
             accept=".pem"/>

      <button mat-raised-button
              mat-button class="app-button"
              (click)="csvInput.click()">
        Compte existant
      </button>

      <br><br>
      <div *ngIf="config.isMobile()">
        <mat-checkbox  [(ngModel)]="savePrivateKey">Conserver ma clé privée sur cet appareil</mat-checkbox>
        <mat-icon (click)="_faq('private_key')" style="font-size: small;cursor: pointer;">help</mat-icon>
      </div>



      <br><br>
      ____
      <br>

      <div *ngIf="canChange">
        <app-tuto label="Il est possible d'utiliser des comptes pour tester cette application. En revanche plusieurs personnes pouvant utiliser les mêmes comptes, il est possible que le comportement soit parfois imprevisible"></app-tuto>
        <mat-form-field class="app-field" style="max-width: 200px;">
          <mat-label>Profils de test</mat-label>
          <mat-select [(ngModel)]="test_profil" (ngModelChange)="select_model($event)">
            <mat-option *ngFor="let profil of profils" [value]="profil.value">{{profil.label}}</mat-option>
          </mat-select>
          <mat-hint>Utiliser un profil de test pour essayer {{config.values?.appname}}</mat-hint>
        </mat-form-field>
      </div>


    </div>

  </div>

</div>
