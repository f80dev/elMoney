<div class="app-prompt" style="text-align: center;color:white;">

  <h2>{{data.title}}</h2>
  <app-hourglass [message]="message"></app-hourglass>

  <div *ngIf="message?.length==0">



    <br>


    <div *ngIf="!user.pem || data.canChange">

      <app-tuto [if]="!data.canChange" label="Charger le fichier PEM contenant votre signature"></app-tuto>

      <button mat-raised-button
              mat-button class="app-button"
              *ngIf="data.canChange"
              (click)="new_account()">
        Nouveau compte
      </button>


      <input #csvInput hidden="true"
             type="file" onclick="this.value=null"
             (change)="import($event)"
             accept=".pem"/>

      <button mat-raised-button
              mat-button class="app-button"
              (click)="csvInput.click()">
        <span *ngIf="data.canChange">Compte existant</span>
        <span *ngIf="!data.canChange">Votre signature</span>
      </button>

      <br>
      <div *ngIf="config.isMobile()">
        <mat-checkbox  [(ngModel)]="savePrivateKey">Conserver ma clé privée sur cet appareil</mat-checkbox>
        <mat-icon (click)="_faq('private_key')" style="font-size: small;cursor: pointer;">help</mat-icon>
      </div>



      <div *ngIf="data.canChange">
        <br><br>
        ... ou utiliser un ... <br><br>
        <app-tuto label="Il est possible d'utiliser des comptes pour tester cette application. En revanche plusieurs personnes pouvant utiliser les mêmes comptes, il est possible que le comportement soit parfois imprevisible"></app-tuto>
        <mat-form-field class="app-field" style="max-width: 200px;">
          <mat-label>Profils de test</mat-label>
          <mat-select [(ngModel)]="test_profil" (ngModelChange)="select_model($event)">
            <mat-option *ngFor="let profil of profils" [value]="profil.value">{{profil.label}}</mat-option>
          </mat-select>
          <mat-hint>Utiliser un profil de test pour essayer {{config.values?.appname}}</mat-hint>
        </mat-form-field>
      </div>


    </div>

  </div>

  <br>
  <hr>

   <button mat-raised-button
              mat-button class="app-button"
              (click)="dialogRef.close()">
        Annuler
      </button>

</div>
