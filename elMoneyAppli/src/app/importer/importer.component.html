<app-tuto title="<br><br><br><br><br><strong>Les tokens</strong>"
          color="white"
          image=""
          subtitle="Fabriquer vos propres tokens a partir d'un fichier, fixez un prix et vendez-les !"
          background="./assets/img/build.jpg"></app-tuto>


<div class="mainform">

  <app-hourglass [message]="message"></app-hourglass>

  <div *ngIf="message.length==0">

    <mat-card  class="app-card">
      <mat-card-title>Contenu du token</mat-card-title>
      <mat-card-content>
        <input #csvInput [hidden]="true"
               type="file" onclick="this.value=null"
               (change)="import($event)"
               accept="*"/>

        <button mat-raised-button
                mat-button class="app-button"
                (click)="csvInput.click()">
          Importer un fichier
        </button>
        <br>
        <span *ngIf="file.length>0">'{{filename}}' empaqueté</span>
        <br><br>


        <mat-form-field appearance="fill" class="app-field" *ngIf="file.length==0">
          <mat-label>Secret à embarquer dans le token</mat-label>
          <input matInput type="text" maxlength="200" [(ngModel)]="secret">
          <mat-hint>un mot de passe, une adresse internet qui ne sera accessible qu'au propriétaire</mat-hint>
        </mat-form-field>
      </mat-card-content>


    </mat-card>


    <mat-card class="app-card">
      <mat-card-title>Présentation pour la marketplace</mat-card-title>
      <mat-card-content>
        <mat-form-field appearance="fill" class="app-field">
          <mat-label>Présentation du token</mat-label>
          <input matInput type="text" maxlength="200" [(ngModel)]="uri">
          <mat-hint>Présenter votre token en quelques mots pour le vendre dans la marketplace</mat-hint>
        </mat-form-field>

        <br>

        <mat-form-field appearance="fill" class="app-field" style="max-width: 200px">
          <mat-label>Prix de vente</mat-label>
          <input matInput type="number" [(ngModel)]="price">
          <span matSuffix>xeGld</span>
        </mat-form-field>

      </mat-card-content>

    </mat-card>

    <mat-card class="app-card">
      <mat-card-title>Fabrication</mat-card-title>
      <mat-card-content>
        <mat-form-field appearance="fill" class="app-field" style="max-width: 200px">
          <mat-label>Combien d'exemplaire</mat-label>
          <input matInput type="number" min="1" max="1000" [(ngModel)]="count">
        </mat-form-field>

      </mat-card-content>
      <mat-card-actions class="app-card-action">
        <button mat-raised-button  color="primary"
            mat-button class="large-button"
            [disabled]="uri?.length==0 && file.length>0"
            (click)="tokenizer()">
      Fabriquer !
    </button>
      </mat-card-actions>
    </mat-card>

    &nbsp;

  </div>

</div>
